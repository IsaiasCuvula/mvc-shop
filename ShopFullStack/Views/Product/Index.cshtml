@model IEnumerable<Product>

@{
    ViewData["Title"] = "Products";
}

<h1>Products</h1>

<p>
    <a asp-action="Create" class="btn btn-primary">Add New Product</a>
</p>

<div class="row">
    @foreach (Product prod in Model)
    {
        <div class="col-md-4">
            <form asp-action="delete" asp-controller="Product" method="post">
                <input type="hidden" name="id" value="@prod.Id">

                <div class="card" style="width: 18rem;">
                    <img class="card-img-top fixed-image-height" src="@Url.Content("~/images/" + prod.ImageUrl)"
                         alt="@prod.Description">

                    <div class="card-body">
                        <h5 class="card-title">@prod.Name</h5>
                        <p class="card-text">@prod.Description</p>
                        <p class="card-text">@prod.Price</p>
                        <p class="card-text"> Quantity in Stock: @prod.Stock</p>
                        <a class="btn btn-info" asp-controller="Product" asp-action="AddEdit"
                           asp-route-id="@prod.Id"><i class="bi bi-pencil-fill">Edit</i> </a>

                        @* <button type="button" class="btn btn-danger" data-bs-toggle="modal" *@
                        @*         data-bs-target="@GetDeleteModalId(prod)"> *@
                        @*     <i class="bi bi-trash-fill"></i> *@
                        @* </button> *@

                        @* <div class="modal fade" id="@GetModalId(prod)" data-bs-backdrop="static" data-bs-keyboard="false" *@
                        @*      tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> *@
                        @*     <div class="modal-dialog"> *@
                        @*         <div class="modal-content"> *@
                        @*             <div class="modal-header"> *@
                        @*                 <h1 class="modal-title fs-5" id="staticBackdropLabel">Are you sure you want to delete @prod.Name?</h1> *@
                        @*                 <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> *@
                        @*             </div> *@
                        @* *@
                        @*             <div class="modal-footer"> *@
                        @*                 <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> *@
                        @*                 <button type="submit" class="btn btn-danger">Delete</button> *@
                        @*             </div> *@
                        @*         </div> *@
                        @*     </div> *@
                        @* </div> *@
                    </div>
                </div>
            </form>
        </div>
    }
</div>